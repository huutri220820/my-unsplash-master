(this["webpackJsonpmy-unsplash-master"]=this["webpackJsonpmy-unsplash-master"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('[{"id":0,"label":"picsum","url":"https://picsum.photos/400/400","password":"1"},{"id":1,"label":"picsum","url":"https://picsum.photos/401/800","password":"1"},{"id":2,"label":"picsum","url":"https://picsum.photos/402/550","password":"1"},{"id":3,"label":"picsum","url":"https://picsum.photos/598/750","password":"1"},{"id":4,"label":"picsum","url":"https://picsum.photos/698/800","password":"1"},{"id":5,"label":"picsum","url":"https://picsum.photos/402/400","password":"1"},{"id":6,"label":"picsum","url":"https://picsum.photos/405/800","password":"1"},{"id":7,"label":"picsum","url":"https://picsum.photos/407/550","password":"1"},{"id":8,"label":"picsum04","url":"https://picsum.photos/599/750","password":"1"},{"id":9,"label":"picsum","url":"https://picsum.photos/556/750","password":"1"},{"id":10,"label":"picsum","url":"https://picsum.photos/451/750","password":"1"},{"id":11,"label":"picsum","url":"https://picsum.photos/557/750","password":"1"}]')},,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a,c,n=s(0),r=s(1),o=s.n(r),i=s(7),l=s.n(i),d=s(3),u=s(4),p=s(2),j=s(5),b=s(16),h={list:JSON.parse(null!==(c="photos",a=window.localStorage.getItem(c))&&void 0!==a?a:JSON.stringify(b))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PHOTO":var s=Object(j.a)(e.list);return s.push(t.payload),Object(p.a)(Object(p.a)({},e),{},{list:s});case"REMOVE_PHOTO":var a=e.list,c=a.findIndex((function(e){return e.id===t.payload.id}));return a[c].password===t.payload.password?(a.splice(c,1),Object(p.a)(Object(p.a)({},e),{},{list:a})):e;default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{str:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE":return Object(p.a)(Object(p.a)({},e),{},{str:t.payload});default:return e}},f=Object(u.combineReducers)({photos:m,search:O,modeShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mode:"MAIN",tag:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MODE":return Object(p.a)(Object(p.a)({},e),{},{mode:t.payload});case"CHANGE_TAG":return Object(p.a)(Object(p.a)({},e),{},{tag:t.payload});default:return e}}}),v=s(17),x=Object(u.createStore)(f,Object(v.composeWithDevTools)()),w=s(6),y=function(e){return{type:"CHANGE_MODE",payload:e}},N=(s(30),s(11));function g(e){var t=e.contents,s=e.color,a=e.size,c=e.type,r=e.data,o=(e.setData,"btn--".concat(s)),i="btn--".concat(a),l=Object(d.c)((function(e){return e.modeShow.mode})),u=Object(d.b)(),p=function(e){if(e.preventDefault(),"add"!==c)if("cancel"!==c){if("delete"===c){if("DELETE"!==l){var t={type:"CHANGE_TAG",payload:r};u(t);var s=y("DELETE");return void u(s)}if(""===(null===r||void 0===r?void 0:r.password))return void alert("error: enter password");var a=(o=r.id,i=r.password,{type:"REMOVE_PHOTO",payload:{id:o,password:i}});u(a);var n=y("MAIN");u(n)}var o,i}else{var d=y("MAIN");u(d)}else{var p=y("ADD");u(p)}};return Object(n.jsx)("div",{children:"submit"===c&&Object(n.jsx)("button",{className:N("btn",o,i),onSubmit:p,children:t})||Object(n.jsx)("button",{className:N("btn",o,i),onClick:p,children:t})})}s(31);function E(e){var t=e.name,s=e.type,a=e.placeholder,c=e.data,r=e.setData;return Object(n.jsx)("div",{className:"input-container",children:Object(n.jsx)("input",{autoComplete:"off",name:t,className:"entry",type:s,placeholder:a,onBlur:function(e){var s;switch(t){case"label":s=Object(p.a)(Object(p.a)({},c),{},{label:e.target.value});break;case"url":s=Object(p.a)(Object(p.a)({},c),{},{url:e.target.value});break;case"password":s=Object(p.a)(Object(p.a)({},c),{},{password:e.target.value})}JSON.stringify(c)!==JSON.stringify(s)&&r(s)},required:!0})})}s(32);var D=s(11);function S(e){var t=e.type,s=Object(d.c)((function(e){return e.photos.list})),a=Object(d.c)((function(e){return e.modeShow.tag})),c=Object(d.b)(),o={id:null!==a&&void 0!==a?a:0,label:"",url:"",password:"",type:t},i=Object(r.useState)(o),l=Object(w.a)(i,2),u=l[0],p=l[1];return Object(n.jsxs)("div",{className:D("form",t),children:["add"===t&&Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={id:Math.max.apply(Math,Object(j.a)(s.map((function(e){return e.id}))))+1,label:u.label,url:u.url,password:u.password},a={type:"ADD_PHOTO",payload:t};c(a);var n=y("MAIN");c(n)},children:[Object(n.jsx)("div",{className:"form-header",children:Object(n.jsx)("h3",{children:"Add a new photo"})}),Object(n.jsxs)("div",{className:"form-body",children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Label"}),Object(n.jsx)(E,{name:"label",type:"text",placeholder:"Enter photo name",data:u,setData:p})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Photo URL"}),Object(n.jsx)(E,{name:"url",type:"url",placeholder:"Enter photo url",data:u,setData:p})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)(E,{name:"password",type:"password",placeholder:"Enter password photo",data:u,setData:p})]})]}),Object(n.jsxs)("div",{className:"form-button",children:[Object(n.jsx)(g,{contents:"Submit",size:"medium",color:"success",type:"submit",data:u}),Object(n.jsx)(g,{contents:"Cancel",size:"medium",type:"cancel"})]})]}),"delete"===t&&Object(n.jsxs)("form",{children:[Object(n.jsx)("div",{className:"form-header",children:Object(n.jsx)("h3",{children:"Are you sure ?"})}),Object(n.jsx)("div",{className:"form-body",children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)(E,{name:"password",type:"password",placeholder:"Enter password photo",data:u,setData:p})]})}),Object(n.jsxs)("div",{className:"form-button",children:[Object(n.jsx)(g,{contents:"Delete",size:"medium",color:"danger",type:"delete",data:u,setData:p}),Object(n.jsx)(g,{contents:"Cancel",size:"medium",type:"cancel"})]})]})]})}var A=s.p+"static/media/my_unsplash_logo.c888ca72.svg";function C(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function _(){var e=Object(r.useState)(C()),t=Object(w.a)(e,2),s=t[0],a=t[1];Object(r.useEffect)((function(){function e(){a(C())}return console.log("%c WindowDimensions did mount","color: red"),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),console.log("%c WindowDimensions un mount","color: red")}}),[]);var c=Math.floor(s.width/336);return{columns:0===c?1:c,width:s.width}}s(33);var L=s(11);function M(){var e=_().width,t=Object(r.useState)(!1),s=Object(w.a)(t,2),a=s[0],c=s[1],o=Object(d.b)();return Object(n.jsx)("div",{className:L("background",{popup:a}),onClick:function(t){e<670&&a&&(t.target.classList.contains("input--entry")||t.target.classList.contains("input")||c(!1))},children:Object(n.jsxs)("div",{className:L("input"),onClick:function(t){e<670&&!a&&c(!0)},children:[Object(n.jsx)("i",{className:"input--icon fas fa-search"}),Object(n.jsx)("input",{className:"input--entry",type:"text",placeholder:"Search by name",onKeyPress:function(e){if("Enter"===e.key){var t={type:"CHANGE",payload:e.target.value};o(t)}}})]})})}s(34);function T(){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)("img",{className:"header--logo",src:A,alt:"logo"}),Object(n.jsx)("div",{className:"header--search",children:Object(n.jsx)(M,{})})]}),Object(n.jsx)("div",{className:"header--btn",children:Object(n.jsx)(g,{contents:"Add photo",color:"success",size:"medium",type:"add"})})]})}s(35);var H=s(18);function z(e){var t=e.photo;return Object(n.jsxs)("div",{className:"photo",children:[Object(n.jsx)("div",{className:"photo__vignette"}),Object(n.jsx)("span",{className:"photo__label",children:t.label}),Object(n.jsx)(H.LazyLoadImage,{className:"photo__content",src:t.url,alt:t.label,effect:"blur"}),Object(n.jsx)("div",{className:"photo--btn",children:Object(n.jsx)(g,{color:"danger",contents:"Delete",type:"delete",size:"small",data:t.id})})]})}s(36);var I=function(){var e=Object(d.c)((function(e){return e.photos.list}));!function(e,t){var s=JSON.stringify(e);window.localStorage.setItem(t,s)}(e,"photos");for(var t=Object(d.c)((function(e){return e.search.str})),s=Object(d.c)((function(e){return e.modeShow.mode})),a=_().columns,c=[],r=e.filter((function(e){return e.label.toLowerCase().includes(t.toLowerCase())})),o=Math.ceil(r.length/a),i=0;i<a;i++){var l=r.splice(0,o),u=Object(n.jsx)("div",{children:l.map((function(e){return Object(n.jsx)(z,{photo:e},e.id)}))},i);c=[].concat(Object(j.a)(c),[u])}return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)("div",{className:"container",children:Object(n.jsx)(T,{})}),Object(n.jsx)("div",{className:"photo-list",children:c.map((function(e){return e}))}),"ADD"===s&&Object(n.jsx)("div",{className:"form-container",children:Object(n.jsx)("div",{className:"form-content",children:Object(n.jsx)(S,{type:"add"})})}),"DELETE"===s&&Object(n.jsx)("div",{className:"form-container",children:Object(n.jsx)("div",{className:"form-content",children:Object(n.jsx)(S,{type:"delete"})})})]})},P=(s(37),function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,39)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),a(e),c(e),n(e),r(e)}))});l.a.render(Object(n.jsx)(d.a,{store:x,children:Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(I,{})})}),document.getElementById("root")),P()}],[[38,1,2]]]);
//# sourceMappingURL=main.6803981e.chunk.js.map